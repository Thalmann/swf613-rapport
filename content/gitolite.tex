\chapter{Git}
The code-base for the various applications and sub-projects that are part of the GIRAF project is quite big and requires that multiple people (possibly from different groups) can work on the same project at once.
Thus a content management system is required to manage the code and its various revisions. 
It was unanimously decided by all project groups to use Git as this content management system.
One of the reasons for using Git was that that an administration tool had already been installed on the GIRAF server.
In \cref{git:gitolite} this tool is described along with a guide to its usage.

Some of the students partaking in the project where new to the use of Git.
Because of this a \textit{''git specialist''} was chosen.
This specialist was a member of the group developing \textit{Stemmespillet}.
\mikkel{Hvor meget skal der skrives om hvor lang tid der er brugt p√• support?}

\section{Gitolite}\label{git:gitolite}
Gitolite is an administration tool for git repositories.
Interaction with Gitolite is done through a git repository in which all repositories are defined in one or more configuration files.
Using hooks Gitolite will create repositories when new ones are defined.
The syntax of these configuration files is described in \cref{git:gitolite:config}.

\paragraph{Accessing the server}
Each GIRAF repository is exposed through two urls.
One is read-only and is publicly available.
This allows projects to have other repo's as submodules without having write-access.
It also simplifies the servers automated build as no authentication is required.
The second url is one to which access is restricted (see \cref{git:gitolite:config}).
The two urls are as follows:
\begin{center}
\url{http://cs-cust06-int.cs.aau.dk/git-ro/} (read-only)\\
\url{http://cs-cust06-int.cs.aau.dk/git/} (read-write)
\end{center}
Each url lists a collection of repositories.
The urls for a repo is equal to appending the repo name to either of the above urls.
Connecting to these repositories can be done using LDAP authentication.
This means that the standard @student.aau.dk logins used for AAUs systems will apply to Gitolite.

\subsection{Configuration files}\label{git:gitolite:config}
As mentioned above, repositories in Gitolite are configured through a Git repository.
This repository can be found at the url below:
\begin{center}
\url{http://cs-cust06-int.cs.aau.dk/git/gitolite-admin/}
\end{center}
In the \texttt{conf} directory in the repository, a collection of files define all the GIRAF repositories.
To each repository a set of access rules apply.
These are described throughout the following section.
Note however that the access rules described below are only those applied in the course of the 2014 spring semester.
Gitolite has an online manual\footnote{\url{http://gitolite.com/gitolite/master-toc.html}} for its usage to which one should refer for any additional information.

\subsubsection{Users and groups}
In addition to defining repositories, Gitolite allows the definition of groups.
A group can be either a group of repositories or a group of users.
In the context of GIRAF only the latter is applied.
In the two files \texttt{sw6f13-groups.conf} and \texttt{sw6f14-groups.conf} the project groups for each semester are defined.
This scheme could be repeated for other semesters.
A group is defined by prefixing a name with a \textit{@} symbol, as below:
\begin{center}
\texttt{@sw600f14 = user1@student.aau.dk user2@student.aau.dk}
\end{center}
This creates a group called \texttt{@sw600f14} with two members.
The use of AAU email addresses allows the usernames to correspond directly to the LDAP authenticated users.
A group can also consist of other groups, such that a group can be created from the list of all semester groups.

\subsubsection{Multiple configuration files}
The \texttt{.conf} file loaded by Gitolite is the \texttt{gitolite.conf}.
As the list of repositories grow, multiple configuration files can be created and included.
To include a configuration file \textit{repos.conf} Gitolite has an \texttt{include} command:
\begin{center}
\texttt{include "repos.conf"}
\end{center}
This command can also be used in configuration files included using the command, and is usefull when trying to separate various types of repositories.

%Gitolite
%Common problems
% - Branches
% - Submodules
%Appendix info on setup and links to git-intro video'er